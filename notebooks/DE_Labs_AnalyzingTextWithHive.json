{"paragraphs":[{"text":"%md\n# About This Lab\n**Objective:** Become familiar with Hive text processing features\n**File locations:** s3://shared-edu/da\n**Successful outcome:** Understanding the use case for Hive text processing features\n**Before you begin:**\n**Related lessons:** Data Engineering with Hive\n\n---","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T10:11:50+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351503_-521982842","id":"20171105-200834_1116095891","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T10:11:50+0000","dateFinished":"2022-03-24T10:11:50+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:66854"},{"text":"%md\n# Setup\n---","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T13:49:55+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351503_1553472281","id":"20181114-164229_902436001","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T13:49:55+0000","dateFinished":"2022-03-23T13:49:55+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66855"},{"title":"Required for Kerberos ","text":"%sh\n\necho $PASS | kinit $USER","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T10:03:27+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648051493023_1382198600","id":"20220323-160453_846998976","dateCreated":"2022-03-23T16:04:53+0000","dateStarted":"2022-03-24T07:47:44+0000","dateFinished":"2022-03-24T07:47:44+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66856"},{"title":"Set up the data context","text":"%sh\n\nmkdir -p data\naws s3 cp s3://shared-edu/da/access.log data/access.log\naws s3 cp s3://shared-edu/da/ratings_2012.txt data/ratings_2012.txt\naws s3 cp s3://shared-edu/da/ratings_2013.txt data/ratings_2013.txt\naws s3 cp s3://shared-edu/da/products.txt data/products.txt\nhdfs dfs -put data/access.log /tmp/raw\nhdfs dfs -put data/ratings_* /tmp/raw\nhdfs dfs -put data/products.txt /tmp/raw\nhdfs dfs -chmod -R 777 /tmp/raw\nhdfs dfs -mkdir -p /tmp/dualcore\nhdfs dfs -chmod 777 /tmp/dualcore","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T10:12:39+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648051464729_-632169105","id":"20220323-160424_937387751","dateCreated":"2022-03-23T16:04:24+0000","dateStarted":"2022-03-24T08:02:05+0000","dateFinished":"2022-03-24T08:02:11+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66857"},{"title":"Create the analyst database","text":"%jdbc(hive)\n\nDROP DATABASE If EXISTS analyst CASCADE;\nCREATE DATABASE analyst;\nUSE analyst;","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T10:15:43+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648111427188_-714980333","id":"20220324-084347_894219780","dateCreated":"2022-03-24T08:43:47+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66858"},{"title":"Create the ratings table","text":"%jdbc(hive)\n\nDROP TABLE analyst.ratings;\n\n-- Ratings and vote information for titles\nCREATE EXTERNAL TABLE analyst.ratings(\n                        posted timestamp,\n                        cust_id int,\n                        prod_id int,\n                        rating tinyint,\n                        message string\n                        ) ROW FORMAT DELIMITED\nFIELDS TERMINATED BY '\\t' \nLOCATION '/tmp/dualcore/ratings/'\nTBLPROPERTIES ('external.table.purge'='true');\n\n\n-- Load data ratings\nLOAD DATA  INPATH '/tmp/raw/ratings_2012.txt' OVERWRITE INTO TABLE analyst.ratings;\nLOAD DATA  INPATH '/tmp/raw/ratings_2013.txt' INTO TABLE analyst.ratings;","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T09:06:52+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql","title":true,"tableHide":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648109654320_611987181","id":"20220324-081414_876440317","dateCreated":"2022-03-24T08:14:14+0000","dateStarted":"2022-03-24T09:06:42+0000","dateFinished":"2022-03-24T09:06:42+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66859"},{"title":"Create the products table","text":"%jdbc(hive)\n\nDROP TABLE analyst.products;\n\nCREATE EXTERNAL TABLE analyst.products (\n\tprod_id int,\n\tbrand string,\n\tname string,\n\tprice int,\n\tcost int,\n\tshipping_wt tinyint\n)  ROW FORMAT DELIMITED\nFIELDS TERMINATED BY '\\t' \nLOCATION '/tmp/dualcore/products/'\nTBLPROPERTIES ('external.table.purge'='true');\n\nLOAD DATA  INPATH '/tmp/raw/products.txt' OVERWRITE INTO TABLE analyst.products;\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T09:33:09+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql","title":true,"tableHide":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648113149912_-1058361426","id":"20220324-091229_450003976","dateCreated":"2022-03-24T09:12:29+0000","dateStarted":"2022-03-24T09:33:02+0000","dateFinished":"2022-03-24T09:33:02+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66860"},{"text":"%md\n# Lab\n---","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T13:50:40+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351503_-1073914348","id":"20181114-164844_1661453681","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T13:50:40+0000","dateFinished":"2022-03-23T13:50:40+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66861"},{"text":"%md\n### Creating and Populating the Web Logs Table\nMany interesting analyses can be done on the data from the usage of a website. The first step is to load the semi-structured data in the web log files into a Hive table. Typical log file formats are not delimited, so you will need to use the Regex SerDe and specify a pattern Hive can use to parse lines into individual fields you can then query.","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T13:50:53+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351503_-408004844","id":"20220107-043219_849197840","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T13:50:53+0000","dateFinished":"2022-03-23T13:50:53+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66862"},{"text":"%md\nCreate the web_logs table using the following statement:\n```sql\nCREATE EXTERNAL TABLE analyst.web_logs (\n  ip_address STRING,\n  date_string STRING,\n  request STRING,\n  status STRING,\n  bytes STRING,\n  referer STRING,\n  user_agent STRING,\n  cookie STRING\n)\nROW FORMAT SERDE 'org.apache.hadoop.hive.serde2.RegexSerDe'\n  WITH SERDEPROPERTIES (\n     \"input.regex\" = \"^([\\\\d.]+) \\\\S+ \\\\S+ \\\\[(.+?)\\\\] \\\"(.+?)\\\" (\\\\d{3}) (\\\\d+) \\\"(.+?)\\\" \\\"(.+?)\\\" \\\"SESSIONID=(\\\\d+)\\\"\\\\s*\"\n  )\nLOCATION '/tmp/dualcore/weblogs'\nTBLPROPERTIES ('external.table.purge'='true');\n```","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T08:04:05+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351504_1353242257","id":"20220107-043345_375112237","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T08:04:05+0000","dateFinished":"2022-03-24T08:04:05+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66863"},{"title":"1 - Create the web_logs table","text":"%jdbc(hive)\n\n\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T13:57:37+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351504_-965979880","id":"20220107-043752_100538345","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T13:57:37+0000","dateFinished":"2022-03-23T13:57:37+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66864"},{"title":"2 - Populate the table by loading the access.log log file","text":"%sh\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T08:10:35+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351504_657019946","id":"20220107-044129_1739917130","dateCreated":"2022-03-23T13:49:11+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66865"},{"text":"%md\nVerify that the data is loaded correctly by running this query to show the top three items users searched for on our website:\n```sql\nSELECT term, COUNT(term) AS num\nFROM\n  (SELECT lower(regexp_extract(request,\n      '/search\\\\?phrase=(\\\\S+)', 1)) AS term\n   FROM web_logs\n   WHERE request REGEXP '/search\\\\?phrase=') term\nGROUP BY term\nORDER BY num DESC\nLIMIT 3;\n```\nYou should see that this query returns tablet (303), ram (153), and wifi (148).\n**Note:** The REGEXP operator, which is available in some SQL dialects, is similar to LIKE, but uses regular expressions for more powerful pattern matching. The REGEXP operator is synonymous with the RLIKE operator.","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T13:57:53+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351504_-99232280","id":"20220107-045538_140566223","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T13:57:53+0000","dateFinished":"2022-03-23T13:57:53+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66866"},{"title":"3 - Verify that the data is loaded correctly","text":"%jdbc(hive)\n\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:07:57+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"term":"string","num":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351504_679567196","id":"20220107-045659_1955895946","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:08:01+0000","dateFinished":"2022-03-23T16:08:01+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66867"},{"text":"%md\n### Bonus Exercise 1: Analyzing Numeric Product Ratings\nIf you have successfully finished the earlier steps and still have time, feel free to continue with this optional bonus exercise.\nCustomer ratings and feedback are great sources of information for both customers and retailers like Dualcore. However, customer comments are typically free-form text and must be handled differently than structured data. Fortunately, Hive provides extensive support for text processing.\nBefore delving into text processing, you’ll begin by analyzing the numeric ratings customers have assigned to various products. In the next bonus exercise, you will use these results in doing text analysis.","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:08:09+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351504_1171474475","id":"20220107-050323_1950394698","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:08:09+0000","dateFinished":"2022-03-23T16:08:09+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66868"},{"title":"4 - Review the ratings table structure","text":"%jdbc(hive)\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:08:46+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351504_1620877793","id":"20220107-050600_1109774978","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:08:46+0000","dateFinished":"2022-03-23T16:08:46+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66869"},{"text":"%md\nWe want to find the product that customers like most, but we must guard against being misled by products that have few ratings assigned. Run the following query to find the product with the highest average among all those with at least 50 ratings:\n```sql\nSELECT prod_id, format_number(avg_rating, 2) AS avg_rating\nFROM (SELECT prod_id, AVG(rating) AS avg_rating,\n        COUNT(*) AS num\n      FROM ratings\n      GROUP BY prod_id) rated\nWHERE num >= 50\nORDER BY avg_rating DESC\nLIMIT 1;\n```","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:12:12+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351505_428428953","id":"20220107-050923_1445304460","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:12:12+0000","dateFinished":"2022-03-23T16:12:12+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66870"},{"title":"5 - Find the product that customers like most","text":"%jdbc(hive)\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:12:19+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351505_1155911350","id":"20220107-050921_1687995872","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:12:19+0000","dateFinished":"2022-03-23T16:12:19+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66871"},{"text":"%md\nRewrite, and then execute, the query above to find the product with the lowest average among products with at least 50 ratings. \nYou should see that the result is product ID 1274673 with an average rating of 1.10.","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:12:38+0000","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"results":{},"enabled":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351505_-1395163714","id":"20220107-051348_487549039","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:12:38+0000","dateFinished":"2022-03-23T16:12:38+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66872"},{"title":"6 - Rewrite, and then execute, the query above to find the product with the lowest average among products with at least 50 ratings","text":"%jdbc(hive)\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:12:42+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351505_707110543","id":"20220107-051345_1350696345","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:12:49+0000","dateFinished":"2022-03-23T16:12:49+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66873"},{"text":"%md\n### Bonus Exercise 2: Analyzing Rating Comments\nWe observed in the previous bonus exercise that customers are very dissatisfied with one of the products we sell (the product with ID 1274673). Although numeric ratings helped us identify which product that is, they cannot tell us why customers don’t like the product. We could simply read through all the comments associated with that product to learn this information, but that approach doesn’t scale. Next, you will use Hive’s text processing support to analyze the comments.","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:13:04+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351505_438131742","id":"20220107-051550_47324169","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:13:04+0000","dateFinished":"2022-03-23T16:13:04+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66874"},{"text":"%md\nThe following query normalizes all comments on that product to lowercase, breaks them into individual words using the sentences function, and passes those to the ngrams function to find the five most common bigrams (two-word combinations).\n\n```sql\nSELECT explode(ngrams(sentences(lower(message)), 2, 5))\n        AS bigrams\nFROM analyst.ratings\nWHERE prod_id = 1274673;\n```","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:13:24+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351505_881172430","id":"20220107-051804_19741544","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:13:24+0000","dateFinished":"2022-03-23T16:13:24+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66875"},{"title":"7 - Run the query","text":"%jdbc(hive)\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:13:28+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351505_-611725634","id":"20220107-051839_512298927","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:13:39+0000","dateFinished":"2022-03-23T16:13:39+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66876"},{"text":"%md\nMost of these words are too common to provide much insight, though the word expensive does stand out in the list. \nModify the previous query to find the five most common trigrams (three-word combinations), and then run that query in Hive.","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:14:04+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351506_-1608989807","id":"20220107-052119_130521675","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:14:04+0000","dateFinished":"2022-03-23T16:14:04+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66877"},{"title":"8 - Modify the previous query to find the five most common trigrams","text":"%jdbc(hive)\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:14:08+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351506_1356818420","id":"20220107-052108_27089154","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:14:08+0000","dateFinished":"2022-03-23T16:14:08+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66878"},{"text":"%md\nAmong the patterns you see in the result is the phrase ten times more. This might be related to the complaints that the product is too expensive. Now that you’ve identified a specific phrase, look at a few comments that contain it by running this query:\n```sql\nSELECT message\nFROM analyst.ratings\nWHERE prod_id = 1274673\n     AND lower(message) LIKE '%ten times more%'\nLIMIT 3;\n```\nYou should see comments that say, “Why does the red one cost ten times more than the others?” and “Red is ten times more expensive than the others!”","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:14:19+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351506_1390522828","id":"20220107-052540_1616808225","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:14:19+0000","dateFinished":"2022-03-23T16:14:19+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66879"},{"title":"9 - Run the query","text":"%jdbc(hive)\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:14:43+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351506_188834906","id":"20220107-052536_1550270138","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:14:44+0000","dateFinished":"2022-03-23T16:14:44+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66880"},{"text":"%md\nWe can infer that customers are complaining about the price of the red-color version of this item. \nWrite and execute a query that will find all distinct comments containing the word red that are associated with product ID 1274673.","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:14:55+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351506_860431737","id":"20220107-053045_365772264","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:14:55+0000","dateFinished":"2022-03-23T16:14:55+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66881"},{"title":"10 - Write and execute a query that will find all distinct comments containing the word red that are associated with product ID 1274673","text":"%jdbc(hive)\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:15:02+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351506_984719980","id":"20220107-053042_1853093609","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:15:02+0000","dateFinished":"2022-03-23T16:15:02+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66882"},{"text":"%md\nThe previous step should have displayed three comments:\n* “Red is ten times more expensive than the others!”\n* “What is so special about red?”\n* “Why does the red one cost ten times more than the others?”\n\nThe first and third comment imply that this product is overpriced relative to similar products. \nWrite and run a query that will display the record for product ID 1274673 in the products table.","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:15:18+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351506_1082774306","id":"20220107-053457_103240469","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:15:18+0000","dateFinished":"2022-03-23T16:15:18+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66883"},{"title":"11 - Write and run a query that will display the record for product ID 1274673 in the products table","text":"%jdbc(hive)\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:15:32+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351506_1073928658","id":"20220107-053551_622834456","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:15:33+0000","dateFinished":"2022-03-23T16:15:33+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66884"},{"text":"%md\nYour query should have shown that the product was 16GB USB Flash Drive (Red) from the Orion brand.\nNext, run this query to identify similar products:\n\n```sql\nSELECT *\nFROM analyst.products\nWHERE name LIKE '%16 GB USB Flash Drive%' AND brand='Orion';\n```","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:15:46+0000","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"results":{},"enabled":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351507_-998286162","id":"20220107-053725_962020890","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:15:46+0000","dateFinished":"2022-03-23T16:15:46+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66885"},{"title":"12 - Run this query to identify similar products","text":"%jdbc(hive)\n\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:15:50+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351507_-606409055","id":"20220107-053908_1533705629","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:15:51+0000","dateFinished":"2022-03-23T16:15:51+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66886"},{"text":"%md\nThe query results show that we have three products that are almost identical, differing only in color. However, the product with the negative reviews (the red one) is priced about ten times higher than the others, just as some of the comments said.\n\nThe costs for these differently colored products are the same, but the price of the red one is 42999 cents ($429.99) whereas the prices of the other two are both 4299 cents ($42.99). \n\nIt appears that using text processing on the product reviews may have helped us to uncover a pricing error.","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:15:56+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351507_398143673","id":"20220107-054051_1386634252","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:15:56+0000","dateFinished":"2022-03-23T16:15:56+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66887"},{"text":"%md\n# Result\n**You have now:** become familiar with Hive text processing features.\n\n---","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:16:44+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351507_-199785720","id":"20181119-142716_792318228","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:16:44+0000","dateFinished":"2022-03-23T16:16:44+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66888"},{"text":"%md\n# Solution\n---","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T16:16:45+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351507_-872141270","id":"20171113-155535_1769142099","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-23T16:16:45+0000","dateFinished":"2022-03-23T16:16:45+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66889"},{"title":"1 - Create the web_logs table","text":"%jdbc(hive)\n\nCREATE EXTERNAL TABLE analyst.weblogs (\n  ip_address STRING,\n  date_string STRING,\n  request STRING,\n  status STRING,\n  bytes STRING,\n  referer STRING,\n  user_agent STRING,\n  cookie STRING\n)\nROW FORMAT SERDE 'org.apache.hadoop.hive.serde2.RegexSerDe'\n  WITH SERDEPROPERTIES (\n     \"input.regex\" = \"^([\\\\d.]+) \\\\S+ \\\\S+ \\\\[(.+?)\\\\] \\\"(.+?)\\\" (\\\\d{3}) (\\\\d+) \\\"(.+?)\\\" \\\"(.+?)\\\" \\\"SESSIONID=(\\\\d+)\\\"\\\\s*\"\n  )\nLOCATION '/tmp/dualcore/weblogs'\nTBLPROPERTIES ('external.table.purge'='true');","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T08:42:56+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true,"tableHide":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351507_2102683987","id":"20220107-043911_569161225","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T08:07:41+0000","dateFinished":"2022-03-24T08:07:42+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66890"},{"title":"2 - Populate the table by loading the access.log log file","text":"%jdbc(hive)\n\nLOAD DATA  INPATH '/tmp/raw/access.log' OVERWRITE INTO TABLE weblogs;","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T08:52:42+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true,"tableHide":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351508_-1433005037","id":"20220107-044334_389763571","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T08:09:56+0000","dateFinished":"2022-03-24T08:09:57+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66891"},{"title":"3 - Verify that the data is loaded correctly","text":"%jdbc(hive)\n\nSELECT term, COUNT(term) AS num\nFROM\n  (SELECT lower(regexp_extract(request,\n      '/search\\\\?phrase=(\\\\S+)', 1)) AS term\n   FROM analyst.weblogs\n   WHERE request REGEXP '/search\\\\?phrase=') term\nGROUP BY term\nORDER BY num DESC\nLIMIT 3;","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T08:10:53+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"term":"string","num":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351508_1368804956","id":"20220107-045939_441941615","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T08:10:54+0000","dateFinished":"2022-03-24T08:11:27+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66892"},{"title":"4 - Review the ratings table structure","text":"%jdbc(hive)\n\nDESCRIBE analyst.ratings;","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T09:07:21+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351508_-1005785351","id":"20220107-050726_749632245","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T09:07:22+0000","dateFinished":"2022-03-24T09:07:22+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66893"},{"title":"5 - Find the product that customers like most","text":"%jdbc(hive)\n\nSELECT prod_id, format_number(avg_rating, 2) AS avg_rating\nFROM (SELECT prod_id, AVG(rating) AS avg_rating,\n        COUNT(*) AS num\n      FROM analyst.ratings\n      GROUP BY prod_id) rated\nWHERE num >= 50\nORDER BY avg_rating DESC\nLIMIT 1;","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T09:08:04+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"prod_id":"string","avg_rating":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351508_-1657325571","id":"20220107-051138_15829481","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T09:08:04+0000","dateFinished":"2022-03-24T09:08:28+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66894"},{"title":"6 - Rewrite, and then execute, the query above to find the product with the lowest average among products with at least 50 ratings","text":"%jdbc(hive)\n\nSELECT prod_id, format_number(avg_rating, 2) AS avg_rating\nFROM (SELECT prod_id, AVG(rating) AS avg_rating,\n        COUNT(*) AS num\n      FROM analyst.ratings\n      GROUP BY prod_id) rated\nWHERE num >= 50\nORDER BY avg_rating ASC\nLIMIT 1;","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T09:09:23+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"prod_id":"string","avg_rating":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351508_-1909618303","id":"20220107-051444_2019511750","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T09:09:26+0000","dateFinished":"2022-03-24T09:09:31+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66895"},{"title":"7 - Run the query","text":"%jdbc(hive)\n\nSELECT explode(ngrams(sentences(lower(message)), 2, 5))\n        AS bigrams\nFROM analyst.ratings\nWHERE prod_id = 1274673;","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T09:09:41+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"bigrams":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351508_-1928471898","id":"20220107-051941_570099402","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T09:09:41+0000","dateFinished":"2022-03-24T09:09:42+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66896"},{"title":"8 - Modify the previous query to find the five most common trigrams","text":"%jdbc(hive)\n\nSELECT explode(ngrams(sentences(lower(message)), 3, 5))\n        AS trigrams\nFROM analyst.ratings\nWHERE prod_id = 1274673;","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T09:09:51+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"trigrams":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351509_-585064809","id":"20220107-052218_1441736589","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T09:10:09+0000","dateFinished":"2022-03-24T09:10:13+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66897"},{"title":"9 - Run the query","text":"%jdbc(hive)\n\nSELECT message\nFROM analyst.ratings\nWHERE prod_id = 1274673\n     AND lower(message) LIKE '%ten times more%'\nLIMIT 3;","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T09:10:39+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"message":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351509_317685472","id":"20220107-052635_1976455487","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T09:10:40+0000","dateFinished":"2022-03-24T09:10:40+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66898"},{"title":"10 - Write and execute a query that will find all distinct comments containing the word red that are associated with product ID 1274673","text":"%jdbc(hive)\n\nSELECT DISTINCT message\nFROM analyst.ratings\nWHERE prod_id = 1274673 AND lower(message) LIKE '%red%';","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T09:10:47+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"message":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351509_-1082060353","id":"20220107-053142_1054669173","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T09:10:48+0000","dateFinished":"2022-03-24T09:10:53+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66899"},{"title":"11 - Write and run a query that will display the record for product ID 1274673 in the products table","text":"%jdbc(hive)\n\nSELECT * FROM analyst.products WHERE prod_id=1274673;","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T09:33:22+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"products.prod_id":"string","products.brand":"string","products.name":"string","products.price":"string","products.cost":"string","products.shipping_wt":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351509_-1267328567","id":"20220107-053613_869526623","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T09:33:23+0000","dateFinished":"2022-03-24T09:33:23+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66900"},{"title":"12 - Run this query to identify similar products","text":"%jdbc(hive)\n\nSELECT *\nFROM analyst.products\nWHERE name LIKE '%16 GB USB Flash Drive%' AND brand='Orion';\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T09:33:28+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"products.prod_id":"string","products.brand":"string","products.name":"string","products.price":"string","products.cost":"string","products.shipping_wt":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351509_-1024747447","id":"20220107-054021_398640127","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T09:33:31+0000","dateFinished":"2022-03-24T09:33:31+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66901"},{"title":"Additional resources","text":"%md\nWe hope you've enjoyed this lab. Below are additional resources that you should find useful:\n\n1. [Cloudera Tutorials](http://cloudera.com/tutorials.html) are your natural next step where you can explore Spark in more depth.\n2. [Cloudera Community](https://community.cloudera.com) is a great resource for questions and answers on Spark, Data Analytics/Science, and many more Big Data topics.\n3. [Apache Spark Documentation](https://spark.apache.org/documentation.html) - official Spark documentation.\n4. [Apache Zeppelin Project Home Page](https://zeppelin.apache.org) - official Zeppelin web site.","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T09:33:48+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":10,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351509_-1151150881","id":"20181116-135131_93712280","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T09:33:48+0000","dateFinished":"2022-03-24T09:33:48+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66902"},{"text":"%angular\n</br>\n</br>\n</br>\n</br>\n<center>\n<a href=\"https://www.cloudera.com/about/training/courses.html\">\n  <img src=\"https://www.cloudera.com/content/dam/www/marketing/media-kit/logo-assets/cloudera_logo_darkorange.png\" alt=\"Cloudera University\" style=\"width:280px;height:40px;border:0;\" align=\"middle\">\n</a>\n</center>\n</br>\n</br>","user":"freynalddeveuwest1","dateUpdated":"2022-03-24T09:33:53+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":2,"editorMode":"ace/mode/undefined","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351510_-779035783","id":"20200110-154537_1406191376","dateCreated":"2022-03-23T13:49:11+0000","dateStarted":"2022-03-24T09:33:53+0000","dateFinished":"2022-03-24T09:33:53+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66903"},{"text":"%angular\n","user":"freynalddeveuwest1","dateUpdated":"2022-03-23T13:49:11+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1648043351510_-1424561934","id":"20200110-162013_302547143","dateCreated":"2022-03-23T13:49:11+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:66904"}],"name":"DE/Labs/AnalyzingTextWithHive","id":"2H1MDCXNA","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"angular:shared_process":[],"sh:shared_process":[],"jdbc:shared_process":[],"livy:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}